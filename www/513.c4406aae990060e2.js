"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[513],{513:(L,m,i)=>{i.r(m),i.d(m,{SearchPageModule:()=>M});var p=i(177),g=i(9417),s=i(5374),f=i(5260),h=i(467),t=i(3953),x=i(8786),v=i(5122);function C(e,n){if(1&e&&(t.j41(0,"div",29),t.nrm(1,"ion-icon",30),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&e){const a=t.XpG().$implicit;t.R7$(3),t.JRh(a.category)}}function r(e,n){if(1&e&&(t.j41(0,"div",14)(1,"div",15),t.nrm(2,"img",16)(3,"div",17),t.k0s(),t.j41(4,"div",18)(5,"div",19)(6,"h3",20),t.EFF(7),t.k0s(),t.j41(8,"div",21)(9,"div",22),t.nrm(10,"ion-icon",23),t.j41(11,"span",24),t.EFF(12,"4.5"),t.k0s()(),t.DNE(13,C,4,1,"div",25),t.k0s(),t.j41(14,"p",26),t.EFF(15," Best in Class services with premium quality "),t.k0s()(),t.j41(16,"div",27),t.nrm(17,"ion-icon",28),t.k0s()()()),2&e){const a=n.$implicit;t.R7$(2),t.Y8G("src",a.imageUrl||"https://placehold.co/100",t.B4B)("alt",a.name),t.R7$(5),t.JRh(a.name),t.R7$(6),t.Y8G("ngIf",a.category)}}function b(e,n){if(1&e&&(t.j41(0,"div",8)(1,"div",9)(2,"h2",10),t.EFF(3,"Search Results"),t.k0s(),t.j41(4,"span",11),t.EFF(5),t.nI1(6,"filterBy"),t.k0s()(),t.j41(7,"div",12),t.DNE(8,r,18,4,"div",13),t.nI1(9,"filterBy"),t.k0s()()),2&e){const a=t.XpG();t.R7$(5),t.SpI("",t.i5U(6,2,a.allLaundries,a.laundryFilter).length," found"),t.R7$(3),t.Y8G("ngForOf",t.i5U(9,5,a.allLaundries,a.laundryFilter))}}function P(e,n){1&e&&(t.j41(0,"div",31)(1,"div",32),t.nrm(2,"ion-icon",33),t.j41(3,"h3",34),t.EFF(4,"Search for Laundries"),t.k0s(),t.j41(5,"p",35),t.EFF(6," Find the perfect laundry service for your needs "),t.k0s(),t.j41(7,"div",36)(8,"h4",37),t.EFF(9,"Try searching for:"),t.k0s(),t.j41(10,"div",38)(11,"ion-chip",39),t.nrm(12,"ion-icon",40),t.j41(13,"ion-label"),t.EFF(14,"Washing"),t.k0s()(),t.j41(15,"ion-chip",39),t.nrm(16,"ion-icon",40),t.j41(17,"ion-label"),t.EFF(18,"Dry Clean"),t.k0s()(),t.j41(19,"ion-chip",39),t.nrm(20,"ion-icon",40),t.j41(21,"ion-label"),t.EFF(22,"Ironing"),t.k0s()()()()()())}const u=[{path:"",component:(()=>{var e;class n{constructor(o,c){this.router=o,this.logic=c,this.laundryFilter={name:""},this.allLaundries=[]}ngOnInit(){}ionViewDidEnter(){this.getAllLaundries()}onSearchChange(o){console.log(o.detail.value)}getAllLaundries(){var c,o=this;this.logic.getAllLaundries().subscribe({next:(c=(0,h.A)(function*(l){console.log("Shops Fetched!"),console.log(l),o.allLaundries=l.data.content}),function(d){return c.apply(this,arguments)}),error:function(){var c=(0,h.A)(function*(l){console.log(l)});return function(d){return c.apply(this,arguments)}}()})}onClearEvent(o){console.log(o)}}return(e=n).\u0275fac=function(o){return new(o||e)(t.rXU(f.Ix),t.rXU(x.W))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-search"]],decls:13,vars:12,consts:[[1,"ion-no-border",3,"translucent"],["slot","start"],["defaultHref","/tabs/tabs/tab1"],[1,"search-container"],["mode","ios","placeholder","Search for laundries, services, or locations...","inputmode","text","type","text","showCancelButton","always",1,"premium-searchbar",3,"ngModelChange","ionClear","ionChange","ngModel","debounce"],[3,"fullscreen"],["class","search-results-section",4,"ngIf"],["class","default-state",4,"ngIf"],[1,"search-results-section"],[1,"section-header"],[1,"section-title"],[1,"results-count"],[1,"laundries-list"],["class","laundry-item",4,"ngFor","ngForOf"],[1,"laundry-item"],[1,"laundry-image"],[3,"src","alt"],[1,"image-overlay"],[1,"laundry-details"],[1,"laundry-info"],[1,"laundry-name"],[1,"laundry-meta"],[1,"rating"],["name","star",1,"star-icon"],[1,"rating-text"],["class","category",4,"ngIf"],[1,"laundry-description"],[1,"laundry-actions"],["name","arrow-forward",1,"arrow-icon"],[1,"category"],["name","pricetag",1,"category-icon"],[1,"default-state"],[1,"default-content"],["name","search-outline",1,"default-icon"],[1,"default-title"],[1,"default-subtitle"],[1,"search-suggestions"],[1,"suggestions-title"],[1,"suggestion-tags"],[1,"suggestion-tag"],["name","trending-up","slot","start"]],template:function(o,c){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Search Laundries"),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"ion-back-button",2),t.k0s()(),t.j41(6,"div",3)(7,"ion-searchbar",4),t.mxI("ngModelChange",function(d){return t.DH7(c.laundryFilter.name,d)||(c.laundryFilter.name=d),d}),t.bIt("ionClear",function(d){return c.onClearEvent(d)})("ionChange",function(d){return c.onSearchChange(d)}),t.k0s()()(),t.j41(8,"ion-content",5),t.DNE(9,b,10,8,"div",6),t.nI1(10,"filterBy"),t.DNE(11,P,23,0,"div",7),t.nI1(12,"filterBy"),t.k0s()),2&o&&(t.Y8G("translucent",!0),t.R7$(7),t.R50("ngModel",c.laundryFilter.name),t.Y8G("debounce",250),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",t.i5U(10,6,c.allLaundries,c.laundryFilter).length>0),t.R7$(2),t.Y8G("ngIf",0===t.i5U(12,9,c.allLaundries,c.laundryFilter).length))},dependencies:[p.Sq,p.bT,g.BC,g.vS,s.QW,s.ZB,s.W9,s.eU,s.iq,s.he,s.S1,s.BC,s.ai,s.Gw,s.el,v.L],styles:['ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);--color: #1e293b}ion-header[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(148,163,184,.1)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-color: transparent;--color: #1e293b;--padding-top: 8px;--padding-bottom: 8px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;letter-spacing:.5px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]{--color: #64748b;--color-hover: #3b82f6;--color-activated: #3b82f6;--icon-font-size: 24px;--icon-padding-start: 8px;--icon-padding-end: 8px;--padding-start: 8px;--padding-end: 8px;--border-radius: 12px;--background: rgba(59, 130, 246, .1);--background-hover: rgba(59, 130, 246, .2);--background-activated: rgba(59, 130, 246, .2);transition:all .3s ease}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]:hover{transform:translate(-2px)}.search-container[_ngcontent-%COMP%]{padding:16px 20px 20px;background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(148,163,184,.1)}.premium-searchbar[_ngcontent-%COMP%]{--background: white;--border-radius: 16px;--box-shadow: 0 4px 20px rgba(0, 0, 0, .08);--border: 1px solid rgba(148, 163, 184, .1);--color: #1e293b;--placeholder-color: #94a3b8;--icon-color: #64748b;--clear-button-color: #64748b;--cancel-button-color: #3b82f6;--cancel-button-font-weight: 600}.premium-searchbar[_ngcontent-%COMP%]:hover{--box-shadow: 0 8px 24px rgba(0, 0, 0, .12)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 20px}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0;position:relative}.section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:40px;height:3px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border-radius:2px}.search-results-section[_ngcontent-%COMP%]{margin:24px 16px}.results-count[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;background:#3b82f61a;padding:6px 12px;border-radius:12px;border:1px solid rgba(59,130,246,.2)}.laundries-list[_ngcontent-%COMP%]{margin-top:20px}.laundry-item[_ngcontent-%COMP%]{background:#fff;border-radius:20px;margin-bottom:16px;overflow:hidden;box-shadow:0 4px 20px #00000014;border:1px solid rgba(148,163,184,.1);transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.laundry-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 32px #00000026}.laundry-item[_ngcontent-%COMP%]:hover   .laundry-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.laundry-item[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{transform:translate(4px)}.laundry-image[_ngcontent-%COMP%]{position:relative;height:160px;overflow:hidden}.laundry-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease}.laundry-image[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#0000,#0000001a,#0003);pointer-events:none}.laundry-details[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:space-between;align-items:flex-start}.laundry-info[_ngcontent-%COMP%]{flex:1}.laundry-info[_ngcontent-%COMP%]   .laundry-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin:0 0 12px;line-height:1.3}.laundry-meta[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:12px}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.rating[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{color:#fbbf24;font-size:16px}.rating[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.category[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.category[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{color:#8b5cf6;font-size:14px}.category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#8b5cf6;font-weight:600}.laundry-description[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0;line-height:1.4}.laundry-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.laundry-actions[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:20px;transition:transform .3s ease}.default-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:60vh;padding:40px 20px;text-align:center}.default-content[_ngcontent-%COMP%]{max-width:400px}.default-icon[_ngcontent-%COMP%]{font-size:80px;color:#cbd5e1;margin-bottom:24px;opacity:.6}.default-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1e293b;margin:0 0 12px}.default-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;margin:0 0 32px;line-height:1.5}.search-suggestions[_ngcontent-%COMP%]   .suggestions-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin:0 0 16px}.suggestion-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}.suggestion-tag[_ngcontent-%COMP%]{--background: rgba(59, 130, 246, .1);--color: #3b82f6;--border-color: rgba(59, 130, 246, .3);--border-width: 1px;--border-radius: 12px;--padding-start: 12px;--padding-end: 12px;font-weight:600;transition:all .3s ease}.suggestion-tag[_ngcontent-%COMP%]:hover{--background: rgba(59, 130, 246, .2);transform:translateY(-2px)}.suggestion-tag[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px;color:#3b82f6}@media (max-width: 768px){.search-container[_ngcontent-%COMP%]{padding:12px 16px 16px}.section-header[_ngcontent-%COMP%]{padding:0 16px}.search-results-section[_ngcontent-%COMP%]{margin:20px 12px}.laundry-details[_ngcontent-%COMP%]{padding:16px}.laundry-image[_ngcontent-%COMP%]{height:140px}.default-state[_ngcontent-%COMP%]{height:50vh;padding:32px 16px}.default-icon[_ngcontent-%COMP%]{font-size:64px}.default-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.laundry-meta[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.laundry-details[_ngcontent-%COMP%]{padding:14px}.laundry-image[_ngcontent-%COMP%]{height:120px}.suggestion-tags[_ngcontent-%COMP%]{gap:8px}.suggestion-tag[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;font-size:.875rem}}.search-results-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .6s ease-out forwards}.default-state[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out forwards}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.laundry-item[_ngcontent-%COMP%]:focus-within{outline:2px solid #3b82f6;outline-offset:2px}.suggestion-tag[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}*[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.premium-searchbar[_ngcontent-%COMP%]:focus-within{--box-shadow: 0 8px 24px rgba(59, 130, 246, .2);--border-color: rgba(59, 130, 246, .4)}.section-title[_ngcontent-%COMP%]:after{transition:width .3s ease}.section-header[_ngcontent-%COMP%]:hover   .section-title[_ngcontent-%COMP%]:after{width:60px}']}),n})()}];let y=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[f.iI.forChild(u),f.iI]}),n})(),M=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[p.MD,g.YN,v.x,s.bv,y]}),n})()},8786:(L,m,i)=>{i.d(m,{W:()=>O});var p=i(467),g=i(1626),s=i(4412),f=i(8810),h=i(8141),t=i(9437),x=i(7673),v=i(7468),C=i(6354);const r_URL="http://localhost:3000/api/v1/";var b=i(3953),P=i(8490);let O=(()=>{var u;class y{constructor(e,n){this.http=e,this.storage=n,this.categories=[],this.address=[],this.laundriesByCategory=[],this.services=[],this.allLaundries=[],this.accessToken=new s.t(""),this.userId=new s.t(""),this.userProfileUpdated=new s.t(""),this.categoriesSubject=new s.t(this.categories),this.category$=this.categoriesSubject.asObservable(),this.addressSubject=new s.t(this.address),this.address$=this.addressSubject.asObservable(),this.laundriesByCategorySubject=new s.t([]),this.laundryByCategory$=this.laundriesByCategorySubject.asObservable(),this.servicesSubject=new s.t([]),this.allLaundriesSubject=new s.t([]),this.laundry$=this.allLaundriesSubject.asObservable(),this.init()}init(){var e=this;return(0,p.A)(function*(){let n=yield e.storage.get("accessToken"),a=yield e.storage.get("userId"),o=yield e.storage.get("profileUpdated");e.accessToken.next(n),e.userId.next(a),e.userProfileUpdated.next(o)})()}handleError(e){return console.error("An error occurred:",e.message),(0,f.$)("Something went wrong; please try again later.")}getUserId(){var e=this;return(0,p.A)(function*(){const n=yield e.storage.get("userId");if(n)return n;throw new Error("User Not Found in local Storgare")})()}register(e){return this.http.post(r_URL+"partner/register",e)}login(e){return this.http.post(r_URL+"user/login",e)}logout(){return this.http.get(r_URL+`user/logout?userId=${this.userId.value}`)}getUserProfile(){return this.http.get(r_URL+`user/get-current-user?userId=${this.userId.value}`)}updateUserProfile(e){return this.http.put(r_URL+`user/update-profile?userId=${this.userId.value}`,e)}getAllCategories(){this.http.get(r_URL+"partner/category/getAll").pipe((0,h.M)(e=>{console.log(e),this.categoriesSubject.next(e)}),(0,t.W)(this.handleError)).subscribe()}getAllAddress(){return this.http.get(r_URL+`user/get/all-address/${this.userId.value}`)}addUserAddress(e){return this.http.post(r_URL+`user/add-address?userId=${this.userId.value}`,e)}getUserAddress(){return this.http.get(r_URL+`user/get/all-address/${this.userId.value}`)}getLaundryByCategory(e,n,a,o){let c=(new g.Nl).set("categoryId","66a7496d1f27b4f5fb506c1d").set("userId",o).set("latitude",e).set("longitude",n);this.http.get(r_URL+"partner/shop/get-all",{params:c}).pipe((0,h.M)(l=>{console.log(l),this.laundriesByCategorySubject.next(l)}),(0,t.W)(this.handleError)).subscribe()}getServiceByLaundry(){let e=(new g.Nl).set("search","").set("latitude","18.5925785").set("longitude","73.7183639");this.http.get(r_URL+"partner/shop/get/by/category",{params:e}).pipe((0,h.M)(n=>{console.log(n),this.allLaundriesSubject.next(n)}),(0,t.W)(this.handleError)).subscribe()}getAllLaundries(){let e=(new g.Nl).set("search","").set("latitude","18.5925785").set("longitude","73.7183639");return this.http.get(r_URL+"partner/shop/get-all",{params:e})}getServiceByLaundryId(e){return this.http.get(r_URL+`partner/service/get/shopId/${e}`)}getAllOffers(){return this.http.get(r_URL+"admin/promoCode/get-all")}like(e){return this.http.post(r_URL+`partner/shop/like/${e}/${this.userId.value}`,{})}unlike(e){return this.http.post(r_URL+`partner/shop/unlike/${e}/${this.userId.value}`,{})}addToCart(e,n,a){return console.log(`Quantity added is in htttp ${n}`),this.http.post(r_URL+"cart/add",{userId:this.userId.value,quantity:n,serviceId:e,selectedQuantityType:a})}removeFromCart(e,n){return this.http.post(r_URL+"cart/remove",{userId:this.userId.value.toString(),quantity:n,serviceId:e})}fetchCartAndServices(e){const n=this.http.get(r_URL+`cart/${this.userId.value}`).pipe((0,t.W)(o=>(console.error("Cart fetch error:",o),(0,x.of)({data:{products:[]}})))),a=this.http.get(r_URL+`partner/service/get/shopId/${e}`).pipe((0,t.W)(o=>(console.error("Services fetch error:",o),(0,x.of)({data:{content:[]}}))));return(0,v.p)([n,a]).pipe((0,C.T)(([o,c])=>{const l=o.data.products||[];return(c.data.content||[]).map(S=>{const _=l.find(U=>U.serviceId._id===S._id);return{...S,quantity:_?_.quantity:0}})}))}getCart(){return this.http.get(r_URL+`cart/${this.userId.value}`)}checkout(e){return this.http.post(r_URL+"order/initiate/payment",{amount:e},{headers:{"x-access-token":this.accessToken.value.toString()}})}calculateCartAmount(e){return this.http.post(r_URL+"order/calculate/amount-to-pay",{userId:this.userId.value,code:e},{headers:{"x-access-token":this.accessToken.value}})}placeOrder(e,n,a,o,c,l,d,I){return this.http.post(r_URL+"order/place",{userId:this.userId.value,dropoffAddressId:e,pickupAddressId:n,pickupTime:a,dropoffTime:o,selfService:c,priceDetails:l,orderType:d,products:I})}getAllUserOrders(){return this.http.get(r_URL+`order/get/order/${this.userId.value}`)}getUserSubscription(){return this.http.get(r_URL+"subscription/get/all-plans")}getSubscriptionByUserId(){return this.http.get(r_URL+`subscription/get/${this.userId.value}`)}purchaseSubscription(e,n){return this.http.post(r_URL+"subscription/purchase",{userId:this.userId.value,planId:e,paymentDetails:n})}}return(u=y).\u0275fac=function(e){return new(e||u)(b.KVO(g.Qq),b.KVO(P.u))},u.\u0275prov=b.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),y})()}}]);