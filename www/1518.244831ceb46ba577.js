"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1518],{1518:(L,C,s)=>{s.d(C,{H:()=>e});var g=s(467),t=s(3953),d=s(3455),b=s(8786),p=s(5260),f=s(177),_=s(5374);const v=()=>[1,2,3,4,5];function O(n,a){1&n&&(t.j41(0,"div",29)(1,"div",30),t.nrm(2,"ion-icon",31),t.j41(3,"span",32),t.EFF(4,"Shop Closed"),t.k0s()()())}function i(n,a){1&n&&t.nrm(0,"div",35)}function m(n,a){1&n&&(t.j41(0,"div",33),t.DNE(1,i,1,0,"div",34),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngForOf",t.lJ4(1,v)))}function P(n,a){if(1&n&&(t.j41(0,"div",36)(1,"span"),t.EFF(2),t.k0s()()),2&n){const l=t.XpG();t.R7$(2),t.JRh(l.category)}}function y(n,a){1&n&&(t.j41(0,"div",37),t.nrm(1,"ion-icon",38),t.j41(2,"span"),t.EFF(3,"Express"),t.k0s()())}function u(n,a){if(1&n&&(t.j41(0,"div",39),t.nrm(1,"ion-icon",40),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const l=t.XpG();t.R7$(3),t.JRh(l.likes.length)}}function x(n,a){1&n&&(t.j41(0,"div",41)(1,"span"),t.EFF(2,"View Details"),t.k0s(),t.nrm(3,"ion-icon",42),t.k0s())}function M(n,a){1&n&&(t.j41(0,"div",43),t.nrm(1,"ion-icon",44),t.j41(2,"span",45),t.EFF(3,"Closed"),t.k0s()())}let e=(()=>{var n;class a{constructor(r,o,c){this.haptics=r,this.logic=o,this.router=c,this.likes=[],this.categories=[],this.isAcceptExpressService=!1,this.isOpen=!0,this.clickEvent=new t.bkB,this.isLiked=!1,this.isProcessing=!1}ngOnInit(){var r=this;return(0,g.A)(function*(){console.log(`UserId in Laundry Card Component:- ${r.currentUserId}`),r.likes&&r.currentUserId&&(r.isLiked=r.likes.includes(r.currentUserId)),console.log(`User Like Status:- ${r.isLiked} for ${r.id}`)})()}action(r){if("like"===r){if(this.isProcessing)return;console.log("Like action triggered"),this.haptics.hapticsImpactLight(),this.isLiked?this.unlikeShop():this.likeShop()}else"share"===r&&(console.log("Share action triggered"),this.haptics.hapticsImpactLight(),this.share())}likeShop(){var o,r=this;this.isProcessing=!0,this.logic.like(this.id).subscribe({next:(o=(0,g.A)(function*(c){console.log("Shop liked successfully:",c),r.isLiked=!0,r.likes.push(r.currentUserId),r.haptics.hapticsImpactMedium(),r.isProcessing=!1}),function(h){return o.apply(this,arguments)}),error:function(){var o=(0,g.A)(function*(c){console.error("Error liking shop:",c),r.isLiked=!1,r.isProcessing=!1});return function(h){return o.apply(this,arguments)}}()})}unlikeShop(){var o,r=this;this.isProcessing=!0,this.logic.unlike(this.id).subscribe({next:(o=(0,g.A)(function*(c){console.log("Shop unliked successfully:",c),r.isLiked=!1,r.likes=r.likes.filter(h=>h!==r.currentUserId),r.haptics.hapticsImpactLight(),r.isProcessing=!1}),function(h){return o.apply(this,arguments)}),error:function(){var o=(0,g.A)(function*(c){console.error("Error unliking shop:",c),r.isLiked=!0,r.isProcessing=!1});return function(h){return o.apply(this,arguments)}}()})}clickHandler(){this.isOpen?(this.haptics.hapticsImpactLight(),this.router.navigate(["view-laundry",this.name,this.id,"add",this.id]),this.clickEvent.emit({id:this.id,category:this.category})):this.haptics.hapticsImpactMedium()}share(){console.log("Share functionality - implement sharing logic here")}}return(n=a).\u0275fac=function(r){return new(r||n)(t.rXU(d.o),t.rXU(b.W),t.rXU(p.Ix))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-laundry-card"]],inputs:{imageUrl:"imageUrl",id:"id",name:"name",ratings:"ratings",address:"address",likes:"likes",currentUserId:"currentUserId",category:"category",categories:"categories",isAcceptExpressService:"isAcceptExpressService",isOpen:"isOpen"},outputs:{clickEvent:"clickEvent"},decls:33,vars:18,consts:[[1,"laundry-card"],[1,"card-image-container"],["alt","Laundry Image",1,"card-image",3,"src"],[1,"image-overlay"],["class","closed-overlay",4,"ngIf"],[1,"action-buttons"],["type","button",1,"action-btn","like-btn",3,"click"],[1,"heart-container"],[1,"heart-icon",3,"name"],["class","heart-particles",4,"ngIf"],["type","button",1,"action-btn","share-btn",3,"click"],["name","share-outline",1,"share-icon"],["class","category-badge",4,"ngIf"],["class","express-badge",4,"ngIf"],[1,"card-content",3,"click"],[1,"card-header"],[1,"laundry-info"],[1,"laundry-name"],[1,"rating-container"],["name","star",1,"star-icon"],[1,"rating-text"],[1,"rating-label"],["class","like-count",4,"ngIf"],[1,"card-footer"],[1,"location-info"],["name","location-outline",1,"location-icon"],[1,"address-text"],["class","view-details",4,"ngIf"],["class","closed-status",4,"ngIf"],[1,"closed-overlay"],[1,"closed-content"],["name","time-outline",1,"closed-icon"],[1,"closed-text"],[1,"heart-particles"],["class","particle",4,"ngFor","ngForOf"],[1,"particle"],[1,"category-badge"],[1,"express-badge"],["name","flash-outline",1,"express-icon"],[1,"like-count"],["name","heart",1,"like-icon"],[1,"view-details"],["name","arrow-forward",1,"arrow-icon"],[1,"closed-status"],["name","time-outline",1,"closed-status-icon"],[1,"closed-status-text"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"img",2)(3,"div",3),t.DNE(4,O,5,0,"div",4),t.j41(5,"div",5)(6,"button",6),t.bIt("click",function(){return o.action("like")}),t.j41(7,"div",7),t.nrm(8,"ion-icon",8),t.DNE(9,m,2,2,"div",9),t.k0s()(),t.j41(10,"button",10),t.bIt("click",function(){return o.action("share")}),t.nrm(11,"ion-icon",11),t.k0s()(),t.DNE(12,P,3,1,"div",12)(13,y,4,0,"div",13),t.k0s(),t.j41(14,"div",14),t.bIt("click",function(){return o.clickHandler()}),t.j41(15,"div",15)(16,"div",16)(17,"h3",17),t.EFF(18),t.k0s(),t.j41(19,"div",18),t.nrm(20,"ion-icon",19),t.j41(21,"span",20),t.EFF(22),t.k0s(),t.j41(23,"span",21),t.EFF(24,"Rating"),t.k0s()()(),t.DNE(25,u,4,1,"div",22),t.k0s(),t.j41(26,"div",23)(27,"div",24),t.nrm(28,"ion-icon",25),t.j41(29,"span",26),t.EFF(30),t.k0s()(),t.DNE(31,x,4,0,"div",27)(32,M,4,0,"div",28),t.k0s()()()),2&r&&(t.AVh("liked",o.isLiked)("closed",!o.isOpen),t.R7$(2),t.Y8G("src",o.imageUrl,t.B4B),t.R7$(2),t.Y8G("ngIf",!o.isOpen),t.R7$(2),t.AVh("active",o.isLiked),t.R7$(2),t.Y8G("name",o.isLiked?"heart":"heart-outline"),t.R7$(),t.Y8G("ngIf",o.isLiked),t.R7$(3),t.Y8G("ngIf",o.category),t.R7$(),t.Y8G("ngIf",o.isAcceptExpressService),t.R7$(5),t.JRh(o.name),t.R7$(4),t.JRh(o.ratings),t.R7$(3),t.Y8G("ngIf",o.likes&&o.likes.length>0),t.R7$(5),t.JRh(o.address),t.R7$(),t.Y8G("ngIf",o.isOpen),t.R7$(),t.Y8G("ngIf",!o.isOpen))},dependencies:[f.Sq,f.bT,_.iq],styles:[".laundry-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;overflow:hidden;box-shadow:0 8px 32px #00000014;border:1px solid rgba(148,163,184,.1);transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative;margin-bottom:20px}.laundry-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 48px #00000026}.laundry-card[_ngcontent-%COMP%]:hover   .card-image[_ngcontent-%COMP%]{transform:scale(1.05)}.laundry-card[_ngcontent-%COMP%]:hover   .view-details[_ngcontent-%COMP%], .laundry-card[_ngcontent-%COMP%]:hover   .view-details[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:translate(4px)}.laundry-card.liked[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{background:#ef44441a;border-color:#ef4444}.laundry-card.liked[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   .heart-icon[_ngcontent-%COMP%]{color:#ef4444;animation:_ngcontent-%COMP%_heartBeat .6s ease-in-out}.laundry-card.closed[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}.laundry-card.closed[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 8px 32px #00000014}.laundry-card.closed[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{filter:grayscale(.3)}.laundry-card.closed[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{pointer-events:none}.laundry-card.closed[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.card-image-container[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease}.image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#0000,#0000001a,#0003);pointer-events:none}.closed-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:15}.closed-overlay[_ngcontent-%COMP%]   .closed-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;text-align:center}.closed-overlay[_ngcontent-%COMP%]   .closed-content[_ngcontent-%COMP%]   .closed-icon[_ngcontent-%COMP%]{font-size:32px;color:#fff;animation:_ngcontent-%COMP%_closedIconPulse 2s ease-in-out infinite}.closed-overlay[_ngcontent-%COMP%]   .closed-content[_ngcontent-%COMP%]   .closed-text[_ngcontent-%COMP%]{color:#fff;font-size:1rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.5)}@keyframes _ngcontent-%COMP%_closedIconPulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}.action-buttons[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;display:flex;flex-direction:column;gap:12px;z-index:10}.action-btn[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#fffffff2;box-shadow:0 8px 24px #00000026}.action-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.like-btn.active[_ngcontent-%COMP%]{background:#ef44441a;border-color:#ef4444}.like-btn.active[_ngcontent-%COMP%]   .heart-icon[_ngcontent-%COMP%]{color:#ef4444}.heart-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.heart-icon[_ngcontent-%COMP%]{font-size:20px;color:#64748b;transition:all .3s ease;z-index:2}.share-icon[_ngcontent-%COMP%]{font-size:20px;color:#3b82f6;transition:all .3s ease}.heart-particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;width:6px;height:6px;background:#ef4444;border-radius:50%;animation:_ngcontent-%COMP%_particleFloat 1.2s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(1){top:50%;left:50%;animation-delay:0s}.particle[_ngcontent-%COMP%]:nth-child(2){top:50%;left:50%;animation-delay:.1s}.particle[_ngcontent-%COMP%]:nth-child(3){top:50%;left:50%;animation-delay:.2s}.particle[_ngcontent-%COMP%]:nth-child(4){top:50%;left:50%;animation-delay:.3s}.particle[_ngcontent-%COMP%]:nth-child(5){top:50%;left:50%;animation-delay:.4s}@keyframes _ngcontent-%COMP%_particleFloat{0%{opacity:1;transform:translate(-50%,-50%) scale(0)}50%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(0) translateY(-40px)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.2)}50%{transform:scale(1.1)}75%{transform:scale(1.2)}to{transform:scale(1)}}.category-badge[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;background:#3b82f6e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;padding:6px 12px;border-radius:12px;font-size:.75rem;font-weight:600;z-index:10;box-shadow:0 4px 12px #3b82f64d}.express-badge[_ngcontent-%COMP%]{position:absolute;top:16px;right:80px;background:linear-gradient(135deg,#fbbf24,#f59e0b);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#1f2937;padding:6px 12px;border-radius:12px;font-size:.75rem;font-weight:700;z-index:10;box-shadow:0 4px 12px #fbbf2466;display:flex;align-items:center;gap:4px;text-transform:uppercase;letter-spacing:.5px;animation:_ngcontent-%COMP%_expressBadgeGlow 2s ease-in-out infinite alternate}.express-badge[_ngcontent-%COMP%]   .express-icon[_ngcontent-%COMP%]{font-size:14px;color:#1f2937;animation:_ngcontent-%COMP%_expressIconFlash 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_expressBadgeGlow{0%{box-shadow:0 4px 12px #fbbf2466}to{box-shadow:0 4px 20px #fbbf2499,0 0 20px #fbbf244d}}@keyframes _ngcontent-%COMP%_expressIconFlash{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}.card-content[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.laundry-info[_ngcontent-%COMP%]{flex:1}.laundry-info[_ngcontent-%COMP%]   .laundry-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin:0 0 8px;line-height:1.3}.rating-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.rating-container[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{color:#fbbf24;font-size:16px}.rating-container[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.rating-container[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:500}.like-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:#ef44441a;padding:6px 10px;border-radius:12px;border:1px solid rgba(239,68,68,.2)}.like-count[_ngcontent-%COMP%]   .like-icon[_ngcontent-%COMP%]{color:#ef4444;font-size:14px}.like-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#ef4444}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid rgba(148,163,184,.1)}.location-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.location-info[_ngcontent-%COMP%]   .location-icon[_ngcontent-%COMP%]{color:#64748b;font-size:16px;flex-shrink:0}.location-info[_ngcontent-%COMP%]   .address-text[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;line-height:1.4}.view-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#3b82f6;font-size:.875rem;font-weight:600;transition:all .3s ease}.view-details[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease}.view-details[_ngcontent-%COMP%]:hover{color:#1d4ed8}.closed-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#ef4444;font-size:.875rem;font-weight:600;padding:6px 12px;background:#ef44441a;border-radius:12px;border:1px solid rgba(239,68,68,.2)}.closed-status[_ngcontent-%COMP%]   .closed-status-icon[_ngcontent-%COMP%]{font-size:14px;color:#ef4444;animation:_ngcontent-%COMP%_closedStatusPulse 2s ease-in-out infinite}.closed-status[_ngcontent-%COMP%]   .closed-status-text[_ngcontent-%COMP%]{color:#ef4444;text-transform:uppercase;letter-spacing:.5px}@keyframes _ngcontent-%COMP%_closedStatusPulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.05)}}@media (max-width: 768px){.laundry-card[_ngcontent-%COMP%]{margin-bottom:16px}.card-content[_ngcontent-%COMP%]{padding:16px}.action-buttons[_ngcontent-%COMP%]{top:12px;right:12px;gap:8px}.action-btn[_ngcontent-%COMP%]{width:40px;height:40px}.category-badge[_ngcontent-%COMP%]{top:12px;left:12px;padding:4px 10px;font-size:.7rem}.express-badge[_ngcontent-%COMP%]{top:12px;right:72px;padding:4px 10px;font-size:.7rem}.express-badge[_ngcontent-%COMP%]   .express-icon[_ngcontent-%COMP%]{font-size:12px}.laundry-name[_ngcontent-%COMP%]{font-size:1rem}.rating-container[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:.8rem}.rating-container[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.card-image-container[_ngcontent-%COMP%]{height:180px}.card-content[_ngcontent-%COMP%]{padding:14px}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px}.heart-icon[_ngcontent-%COMP%], .share-icon[_ngcontent-%COMP%]{font-size:18px}.express-badge[_ngcontent-%COMP%]{right:68px;padding:3px 8px;font-size:.65rem}.express-badge[_ngcontent-%COMP%]   .express-icon[_ngcontent-%COMP%]{font-size:11px}.laundry-name[_ngcontent-%COMP%]{font-size:.95rem}.view-details[_ngcontent-%COMP%]{font-size:.8rem}.closed-status[_ngcontent-%COMP%]{padding:4px 8px;font-size:.8rem}.closed-status[_ngcontent-%COMP%]   .closed-status-icon[_ngcontent-%COMP%]{font-size:12px}}.laundry-card[_ngcontent-%COMP%]:hover   .action-btn[_ngcontent-%COMP%]{transform:scale(1.05)}.laundry-card[_ngcontent-%COMP%]:hover   .category-badge[_ngcontent-%COMP%]{background:#3b82f6;transform:scale(1.05)}.laundry-card[_ngcontent-%COMP%]:hover   .express-badge[_ngcontent-%COMP%]{transform:scale(1.05)}.laundry-card[_ngcontent-%COMP%]:focus-within{outline:2px solid #3b82f6;outline-offset:2px}.action-btn[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}*[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.laundry-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardEntrance .6s ease-out forwards}@keyframes _ngcontent-%COMP%_cardEntrance{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}"]}),a})()},8786:(L,C,s)=>{s.d(C,{W:()=>y});var g=s(467),t=s(1626),d=s(4412),b=s(8810),p=s(9437),f=s(8141),_=s(7673),v=s(7468),O=s(6354);const i_URL="https://api.breezyemart.com/api/v1/";var m=s(3953),P=s(8490);let y=(()=>{var u;class x{constructor(e,n){this.http=e,this.storage=n,this.categories=[],this.address=[],this.laundriesByCategory=[],this.services=[],this.allLaundries=[],this.accessToken=new d.t(""),this.userId=new d.t(""),this.userProfileUpdated=new d.t(""),this.categoriesSubject=new d.t(this.categories),this.category$=this.categoriesSubject.asObservable(),this.addressSubject=new d.t(this.address),this.address$=this.addressSubject.asObservable(),this.laundriesByCategorySubject=new d.t([]),this.laundryByCategory$=this.laundriesByCategorySubject.asObservable(),this.servicesSubject=new d.t([]),this.allLaundriesSubject=new d.t([]),this.laundry$=this.allLaundriesSubject.asObservable(),this.init()}init(){var e=this;return(0,g.A)(function*(){let n=yield e.storage.get("accessToken"),a=yield e.storage.get("userId"),l=yield e.storage.get("profileUpdated");e.accessToken.next(n),e.userId.next(a),e.userProfileUpdated.next(l)})()}handleError(e){return console.error("An error occurred:",e.message),(0,b.$)("Something went wrong; please try again later.")}getUserId(){var e=this;return(0,g.A)(function*(){const n=yield e.storage.get("userId");if(n)return n;throw new Error("User Not Found in local Storgare")})()}register(e){return this.http.post(i_URL+"partner/register",e)}login(e){return this.http.post(i_URL+"user/login",e)}logout(){return this.http.get(i_URL+`user/logout?userId=${this.userId.value}`)}getUserProfile(){return this.http.get(i_URL+`user/get-current-user?userId=${this.userId.value}`)}updateUserProfile(e){return this.http.put(i_URL+`user/update-profile?userId=${this.userId.value}`,e)}getNotifications(){return this.http.get(i_URL+`notification/get/all/user/${this.userId.value}`).pipe((0,p.W)(this.handleError))}deleteNotification(e){return this.http.delete(i_URL+`notification/delete/${e}`).pipe((0,p.W)(this.handleError))}getAllCategories(){this.http.get(i_URL+"partner/category/getAll").pipe((0,f.M)(e=>{console.log(e),this.categoriesSubject.next(e)}),(0,p.W)(this.handleError)).subscribe()}getAllAddress(){return this.http.get(i_URL+`user/get/all-address/${this.userId.value}`)}addUserAddress(e){return this.http.post(i_URL+`user/add-address?userId=${this.userId.value}`,e)}getUserAddress(){return this.http.get(i_URL+`user/get/all-address/${this.userId.value}`)}getLaundryByCategory(e,n,a,l){let r=(new t.Nl).set("categoryId","66a7496d1f27b4f5fb506c1d").set("userId",l).set("latitude",e).set("longitude",n);this.http.get(i_URL+"partner/shop/get-all",{params:r}).pipe((0,f.M)(o=>{console.log(o),this.laundriesByCategorySubject.next(o)}),(0,p.W)(this.handleError)).subscribe()}getServiceByLaundry(){let e=(new t.Nl).set("search","").set("latitude","18.5925785").set("longitude","73.7183639");this.http.get(i_URL+"partner/shop/get/by/category",{params:e}).pipe((0,f.M)(n=>{console.log(n),this.allLaundriesSubject.next(n)}),(0,p.W)(this.handleError)).subscribe()}getAllLaundries(){let e=(new t.Nl).set("search","").set("latitude","18.5925785").set("longitude","73.7183639");return this.http.get(i_URL+"partner/shop/get-all",{params:e})}getServiceByLaundryId(e){return this.http.get(i_URL+`partner/service/get/shopId/${e}`)}getAllOffers(){return this.http.get(i_URL+"admin/promoCode/get-all")}like(e){return this.http.post(i_URL+`partner/shop/like/${e}/${this.userId.value}`,{})}unlike(e){return this.http.post(i_URL+`partner/shop/unlike/${e}/${this.userId.value}`,{})}addToCart(e,n,a){return console.log(`Quantity added is in htttp ${n}`),this.http.post(i_URL+"cart/add",{userId:this.userId.value,quantity:n,serviceId:e,selectedQuantityType:a})}removeFromCart(e,n){return this.http.post(i_URL+"cart/remove",{userId:this.userId.value.toString(),quantity:n,serviceId:e})}fetchCartAndServices(e){const n=this.http.get(i_URL+`cart/${this.userId.value}`).pipe((0,p.W)(l=>(console.error("Cart fetch error:",l),(0,_.of)({data:{products:[]}})))),a=this.http.get(i_URL+`partner/service/get/shopId/${e}`).pipe((0,p.W)(l=>(console.error("Services fetch error:",l),(0,_.of)({data:{content:[]}}))));return(0,v.p)([n,a]).pipe((0,O.T)(([l,r])=>{const o=l.data.products||[];return(r.data.content||[]).map(k=>{const I=o.find(U=>U.serviceId._id===k._id);return{...k,quantity:I?I.quantity:0}})}))}getCart(){return this.http.get(i_URL+`cart/${this.userId.value}`)}checkout(e){return this.http.post(i_URL+"order/initiate/payment",{amount:e},{headers:{"x-access-token":this.accessToken.value.toString()}})}calculateCartAmount(e){return this.http.post(i_URL+"order/calculate/amount-to-pay",{userId:this.userId.value,code:e},{headers:{"x-access-token":this.accessToken.value}})}placeOrder(e,n,a,l,r,o,c,h){return this.http.post(i_URL+"order/place",{userId:this.userId.value,dropoffAddressId:e,pickupAddressId:n,pickupTime:a,dropoffTime:l,selfService:r,priceDetails:o,orderType:c,products:h})}getAllUserOrders(){return this.http.get(i_URL+`order/get/order/${this.userId.value}`)}getUserSubscription(){return this.http.get(i_URL+"subscription/get/all-plans")}getSubscriptionByUserId(){return this.http.get(i_URL+`subscription/get/${this.userId.value}`)}purchaseSubscription(e,n){return this.http.post(i_URL+"subscription/purchase",{userId:this.userId.value,planId:e,paymentDetails:n})}addRating(e){return this.http.post(i_URL+"ratting/add",e,{headers:{"x-access-token":this.accessToken.value}})}}return(u=x).\u0275fac=function(e){return new(e||u)(m.KVO(t.Qq),m.KVO(P.u))},u.\u0275prov=m.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),x})()}}]);