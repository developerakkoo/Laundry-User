"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6652],{6652:(j,b,d)=>{d.r(b),d.d(b,{AddPageModule:()=>S});var h=d(177),m=d(9417),s=d(5374),f=d(5260),l=d(467),C=d(8600),e=d(3953),P=d(8786),x=d(3455),M=d(5219),g=d(9842);let _=(()=>{var o;class a{static isFoundOnWalking(t,n){let r=t,i=!1;do{if(r.hasOwnProperty(n)||Object.getOwnPropertyDescriptor(r,n)){i=!0;break}}while(r=Object.getPrototypeOf(r));return i}static isNumber(t){return!isNaN(parseInt(t,10))&&isFinite(t)}static getValue(t){return"function"==typeof t?t():t}filterByString(t){return t&&(t=t.toLowerCase()),n=>!t||!!n&&-1!==(""+n).toLowerCase().indexOf(t)}filterByBoolean(t){return n=>!!n===t}filterByObject(t){return n=>{for(const r in t)if("$or"!==r){if(!n||!a.isFoundOnWalking(n,r)||!this.isMatching(t[r],a.getValue(n[r])))return!1}else if(!this.filterByOr(t.$or)(a.getValue(n)))return!1;return!0}}isMatching(t,n){switch(typeof t){case"boolean":return this.filterByBoolean(t)(n);case"string":return this.filterByString(t)(n);case"object":return this.filterByObject(t)(n)}return this.filterDefault(t)(n)}filterByOr(t){return n=>{const r=t.length,y=Array.isArray(n)?u=>-1!==n.indexOf(t[u]):u=>this.isMatching(t[u],n);for(let u=0;u<r;u++)if(y(u))return!0;return!1}}filterDefault(t){return n=>void 0===t||t==n}transform(t,n){if(!t)return t;switch(typeof n){case"boolean":return t.filter(this.filterByBoolean(n));case"string":return a.isNumber(n)?t.filter(this.filterDefault(n)):t.filter(this.filterByString(n));case"object":return t.filter(this.filterByObject(n));case"function":return t.filter(n)}return t.filter(this.filterDefault(n))}}return o=a,(0,g.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,g.A)(a,"\u0275pipe",e.EJ8({name:"filterBy",type:o,pure:!1})),(0,g.A)(a,"\u0275prov",e.jDH({token:o,factory:o.\u0275fac})),a})(),v=(()=>{var o;class a{}return o=a,(0,g.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,g.A)(a,"\u0275mod",e.$C({type:o})),(0,g.A)(a,"\u0275inj",e.G2t({providers:[_]})),a})();function A(o,a){if(1&o){const c=e.RV6();e.j41(0,"app-product-card",10),e.bIt("quantityEvent",function(n){e.eBV(c);const r=e.XpG(2);return e.Njj(r.addItem(n))})("quantityEventRemove",function(n){e.eBV(c);const r=e.XpG(2);return e.Njj(r.deleteItem(n))}),e.k0s()}if(2&o){const c=a.$implicit;e.Y8G("productImageUrl",null==c?null:c.image_url)("productName",null==c?null:c.name)("quantityAcceptedIn",null==c?null:c.quantityAcceptedIn)("_id",c._id)("quantity",null==c?null:c.quantity)("desc",null==c?null:c.description)}}function O(o,a){if(1&o&&(e.j41(0,"ion-col",8)(1,"ion-list"),e.DNE(2,A,1,6,"app-product-card",9),e.nI1(3,"filterBy"),e.k0s()()),2&o){const c=e.XpG();e.R7$(2),e.Y8G("ngForOf",e.i5U(3,1,c.items,c.productFilter))}}function k(o,a){1&o&&(e.j41(0,"ion-col",8)(1,"div",11),e.nrm(2,"img",12),e.j41(3,"p",13),e.EFF(4,"Sorry we couldn't find any matches for your search."),e.k0s(),e.j41(5,"p",14),e.EFF(6,"Please try searching with another term."),e.k0s()()())}const F=[{path:"",component:(()=>{var o;class a{constructor(t,n,r,i,p,y,u){this.router=t,this.route=n,this.logic=r,this.haptics=i,this.toastController=p,this.actionSheetController=y,this.modalController=u,this.products=[],this.items=[],this.newItem={item:"",quantity:0,note:""},this.productFilter={name:""}}ngOnInit(){this.laundryId=this.route.snapshot.paramMap.get("id")}ionViewDidEnter(){this.fetchCartAndServices(),this.getCart()}getAllServices(){var t=this;return(0,l.A)(function*(){var n;t.logic.getServiceByLaundryId(t.laundryId).subscribe({next:(n=(0,l.A)(function*(r){console.log("services"),console.log(r),t.items=r.data.content}),function(i){return n.apply(this,arguments)}),error:function(){var n=(0,l.A)(function*(r){console.log(r)});return function(i){return n.apply(this,arguments)}}()})})()}fetchCartAndServices(){var t=this;return(0,l.A)(function*(){var n;t.logic.fetchCartAndServices(t.laundryId).subscribe({next:(n=(0,l.A)(function*(r){console.log("FEtch CArt and Services REsponse"),console.log(r),t.items=r}),function(i){return n.apply(this,arguments)}),error:function(){var n=(0,l.A)(function*(r){console.log(r)});return function(i){return n.apply(this,arguments)}}()})})()}presentToast(t,n,r){var i=this;return(0,l.A)(function*(){(yield i.toastController.create({message:t,duration:n,color:r,position:"bottom",animated:!0,icon:"rocket",mode:"ios"})).present()})()}onSearchChange(t){}presentActionSheetForDeliveryPickupOrSelf(){var t=this;return(0,l.A)(function*(){t.haptics.hapticsImpactLight(),yield(yield t.actionSheetController.create({header:"Pickup / Self",buttons:[{text:"Self Pickup",icon:"walk",handler:()=>{t.presentToast("Self Pickup Scheduled!",2e3,"success"),console.log("Delete clicked")}},{text:"Schedule Pickup",icon:"bicycle",handler:()=>{t.presentToast("Order Pickup Scheduled!",2e3,"success"),console.log("Share clicked")}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}presentModal(){var t=this;return(0,l.A)(function*(){t.haptics.hapticsImpactLight();const n=yield t.modalController.create({component:C.c,componentProps:{value:123},breakpoints:[0,.25,.5,.75],initialBreakpoint:.75,handle:!0});yield n.present();const r=yield n.onDidDismiss();console.log(r.data)})()}addItem(t){var r,n=this;console.log(t),this.logic.addToCart(t.id,t.quantity,t.type).subscribe({next:(r=(0,l.A)(function*(i){console.log(i),n.getCart()}),function(p){return r.apply(this,arguments)}),error:function(){var r=(0,l.A)(function*(i){console.log(i)});return function(p){return r.apply(this,arguments)}}()}),this.haptics.hapticsImpactLight()}deleteItem(t){var r,n=this;this.logic.removeFromCart(t.id,t.quantity).subscribe({next:(r=(0,l.A)(function*(i){console.log(i),n.haptics.hapticsVibrate(),n.getCart()}),function(p){return r.apply(this,arguments)}),error:function(){var r=(0,l.A)(function*(i){console.log(i),n.haptics.hapticsVibrate()});return function(p){return r.apply(this,arguments)}}()})}addToOrder(){this.presentModal()}getCart(){var n,t=this;this.logic.getCart().subscribe({next:(n=(0,l.A)(function*(r){console.log(r),t.products=r.data.products}),function(i){return n.apply(this,arguments)}),error:function(){var n=(0,l.A)(function*(r){console.log(r)});return function(i){return n.apply(this,arguments)}}()})}applyFilter(){this.haptics.hapticsImpactLight()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(f.Ix),e.rXU(f.nX),e.rXU(P.W),e.rXU(x.o),e.rXU(s.K_),e.rXU(s.GD),e.rXU(s.W3))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-add"]],decls:17,vars:13,consts:[[1,"ion-no-border",3,"translucent"],["slot","start"],["defaultHref","/tabs/tabs/tab1"],["placeholder","Filter services","inputmode","decimal","type","decimal","mode","ios","showCancelButton","always",3,"ngModelChange","ionChange","ngModel","debounce"],[3,"fullscreen"],["size","12",4,"ngIf"],["color","primary","routerLink","tabs/tabs/tab2",1,"ion-no-border"],["color","primary",1,"ion-text-center"],["size","12"],["productPrice","100.00",3,"productImageUrl","productName","quantityAcceptedIn","_id","quantity","desc","quantityEvent","quantityEventRemove",4,"ngFor","ngForOf"],["productPrice","100.00",3,"quantityEvent","quantityEventRemove","productImageUrl","productName","quantityAcceptedIn","_id","quantity","desc"],[1,"container"],["src","assets/no-results.svg","alt","","srcset",""],[1,"search-heading"],[1,"search-sub-heading"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Create Order"),e.k0s(),e.j41(4,"ion-buttons",1),e.nrm(5,"ion-back-button",2),e.k0s()(),e.j41(6,"ion-searchbar",3),e.mxI("ngModelChange",function(i){return e.DH7(n.productFilter.name,i)||(n.productFilter.name=i),i}),e.bIt("ionChange",function(i){return n.onSearchChange(i)}),e.k0s()(),e.j41(7,"ion-content",4)(8,"ion-grid")(9,"ion-row"),e.DNE(10,O,4,4,"ion-col",5),e.nI1(11,"filterBy"),e.DNE(12,k,7,0,"ion-col",5),e.nI1(13,"filterBy"),e.k0s()()(),e.j41(14,"ion-footer",6)(15,"ion-toolbar",7),e.EFF(16),e.k0s()()),2&t&&(e.Y8G("translucent",!0),e.R7$(6),e.R50("ngModel",n.productFilter.name),e.Y8G("debounce",250),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(3),e.Y8G("ngIf",e.i5U(11,7,n.items,n.productFilter).length>0),e.R7$(2),e.Y8G("ngIf",0==e.i5U(13,10,n.items,n.productFilter).length),e.R7$(4),e.SpI(" You have ",n.products.length," Items in your cart. "))},dependencies:[h.Sq,h.bT,m.BC,m.vS,M.V,s.QW,s.hU,s.W9,s.M0,s.lO,s.eU,s.nf,s.ln,s.S1,s.BC,s.ai,s.Gw,s.el,s.N7,f.Wk,_],styles:['.container[_ngcontent-%COMP%]{position:relative;z-index:1}.button-wrapper[_ngcontent-%COMP%]{position:relative}ion-list[_ngcontent-%COMP%]{border-radius:12px}.animated-button[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:50px;padding:15px 30px;font-size:18px;color:#fff;background:linear-gradient(45deg,#f06,#fc0);background-size:200% 200%;animation:_ngcontent-%COMP%_gradientAnimation 4s linear infinite,_ngcontent-%COMP%_borderAnimation 2s linear infinite;cursor:pointer;outline:none;position:relative;overflow:hidden}.animated-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,#f06,#fc0);z-index:-1;transition:opacity .3s ease;border-radius:50%}.animated-button[_ngcontent-%COMP%]:hover:before{opacity:0}.button-text[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f06,#fc0);background-size:200% 200%;-webkit-background-clip:text;color:transparent;animation:_ngcontent-%COMP%_textAnimation 2s linear infinite}.stars[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:transparent;z-index:0;overflow:hidden}.stars[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:200%;height:200%;background:radial-gradient(circle,#fff,transparent);background-size:10px 10px;animation:_ngcontent-%COMP%_twinkle 1s linear infinite;opacity:.6}.item-card[_ngcontent-%COMP%]{position:relative;border-radius:20px;box-shadow:0 4px 8px #0000001a}.item-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.item-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.item-card[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:24px;color:red;cursor:pointer}.item-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.filter-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;white-space:nowrap;padding:4px;background-color:#f0f0f04d;align-items:center}.filter-badge[_ngcontent-%COMP%]{display:flex;padding:10px 20px;margin:3px;background-color:#8f35c7;color:#fff;border-radius:20px;cursor:pointer;white-space:nowrap;flex-shrink:0;transition:background-color .3s ease;justify-content:center;align-items:center;height:30px;width:auto;font-size:12px}.filter-badge-outline[_ngcontent-%COMP%]{display:flex;padding:6px;margin:3px;border:1px solid #8F35C7;color:#8f35c7;border-radius:20px;cursor:pointer;white-space:nowrap;transition:background-color .3s ease;justify-content:center;align-items:center;height:30px;width:auto;font-size:12px}.filter-badge[_ngcontent-%COMP%]:hover{background-color:#8f35c7}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f0f0f0}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#8f35c7;border-radius:10px;border:2px solid #f0f0f0}@keyframes _ngcontent-%COMP%_gradientAnimation{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_textAnimation{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_borderAnimation{0%{border-color:#f06}50%{border-color:#fc0}to{border-color:#f06}}@keyframes _ngcontent-%COMP%_twinkle{0%,20%,40%,60%,80%,to{opacity:.6}10%,30%,50%,70%,90%{opacity:1}}.search-heading[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin:0}.search-sub-heading[_ngcontent-%COMP%]{font-size:12px;text-align:center;color:#969696;margin:0}']}),a})()}];let I=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[f.iI.forChild(F),f.iI]}),a})();var w=d(541);let S=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[h.MD,m.YN,w.G,v,s.bv,I]}),a})()}}]);