"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6629],{6629:(L,O,d)=>{d.r(O),d.d(O,{NotificationsPageModule:()=>I});var b=d(177),P=d(9417),g=d(5374),x=d(5260),u=d(467),t=d(3953),v=d(8786),w=d(3455);function N(o,s){1&o&&(t.j41(0,"div",10),t.nrm(1,"ion-spinner",11),t.j41(2,"p",12),t.EFF(3,"Loading notifications..."),t.k0s()())}function r(o,s){if(1&o&&(t.j41(0,"div",22)(1,"span",23),t.EFF(2),t.k0s(),t.j41(3,"span",24),t.EFF(4,"unread"),t.k0s()()),2&o){const a=t.XpG(2);t.R7$(2),t.JRh(a.getUnreadCount())}}function M(o,s){1&o&&t.nrm(0,"div",39)}function R(o,s){if(1&o&&(t.j41(0,"div",47)(1,"ion-badge",48),t.EFF(2),t.k0s()()),2&o){let a,e;const n=t.XpG(2).$implicit,l=t.XpG(2);t.R7$(),t.Y8G("color",l.getOrderStatusColor(null==(a=l.parseNotificationContent(n.content))?null:a.status)),t.R7$(),t.SpI(" ",l.getOrderStatusText(null==(e=l.parseNotificationContent(n.content))?null:e.status)," ")}}function j(o,s){if(1&o&&(t.j41(0,"div",54)(1,"div",55),t.nrm(2,"ion-icon",56),t.j41(3,"span",57),t.EFF(4),t.k0s()()()),2&o){let a;const e=t.XpG(3).$implicit,n=t.XpG(2);t.R7$(4),t.Lme(" Pickup: ",null==(a=n.parseNotificationContent(e.content))?null:a.pickupTime," | Delivery: ",null==(a=n.parseNotificationContent(e.content))?null:a.dropoffTime," ")}}function h(o,s){if(1&o&&(t.j41(0,"div",49)(1,"div",50)(2,"span",51),t.EFF(3,"Total Amount:"),t.k0s(),t.j41(4,"span",52),t.EFF(5),t.k0s()(),t.DNE(6,j,5,2,"div",53),t.k0s()),2&o){let a,e;const n=t.XpG(2).$implicit,l=t.XpG(2);t.R7$(5),t.SpI("\u20b9",null==(a=l.parseNotificationContent(n.content))||null==a.priceDetails?null:a.priceDetails.totalAmountToPay,""),t.R7$(),t.Y8G("ngIf",(null==(e=l.parseNotificationContent(n.content))?null:e.pickupTime)&&(null==(e=l.parseNotificationContent(n.content))?null:e.dropoffTime))}}function y(o,s){if(1&o&&(t.j41(0,"div",40)(1,"div",41)(2,"div",42),t.nrm(3,"ion-icon",43),t.j41(4,"span",44),t.EFF(5),t.k0s()(),t.DNE(6,R,3,2,"div",45),t.k0s(),t.DNE(7,h,7,2,"div",46),t.k0s()),2&o){let a,e,n;const l=t.XpG().$implicit,_=t.XpG(2);t.R7$(5),t.SpI("Order #",null==(a=_.parseNotificationContent(l.content))?null:a.orderId,""),t.R7$(),t.Y8G("ngIf",void 0!==(null==(e=_.parseNotificationContent(l.content))?null:e.status)),t.R7$(),t.Y8G("ngIf",null==(n=_.parseNotificationContent(l.content))?null:n.priceDetails)}}function $(o,s){if(1&o&&(t.j41(0,"p",58),t.EFF(1),t.k0s()),2&o){const a=t.XpG().$implicit;t.R7$(),t.SpI(" ",a.content," ")}}function i(o,s){if(1&o){const a=t.RV6();t.j41(0,"ion-button",59),t.bIt("click",function(){t.eBV(a);const n=t.XpG().$implicit,l=t.XpG(2);return t.Njj(l.markAsRead(n._id))}),t.nrm(1,"ion-icon",60),t.k0s()}}function c(o,s){if(1&o){const a=t.RV6();t.j41(0,"div",25)(1,"div",26),t.nrm(2,"ion-icon",27),t.DNE(3,M,1,0,"div",28),t.k0s(),t.j41(4,"div",29),t.bIt("click",function(){const n=t.eBV(a).$implicit,l=t.XpG(2);return t.Njj(l.markAsRead(n._id))}),t.j41(5,"div",30)(6,"h3",31),t.EFF(7),t.k0s(),t.j41(8,"span",32),t.EFF(9),t.k0s()(),t.DNE(10,y,8,3,"div",33)(11,$,2,1,"p",34),t.k0s(),t.j41(12,"div",35),t.DNE(13,i,2,0,"ion-button",36),t.j41(14,"ion-button",37),t.bIt("click",function(){const n=t.eBV(a).$implicit,l=t.XpG(2);return t.Njj(l.deleteNotification(n._id))}),t.nrm(15,"ion-icon",38),t.k0s()()()}if(2&o){const a=s.$implicit,e=t.XpG(2);t.AVh("unread",!a.read)("read",a.read),t.R7$(2),t.HbH("icon-"+e.getNotificationColor(a.title)),t.Y8G("name",e.getNotificationIcon(a.title)),t.R7$(),t.Y8G("ngIf",!a.read),t.R7$(4),t.JRh(a.title),t.R7$(2),t.JRh(e.formatDate(a.createdAt)),t.R7$(),t.Y8G("ngIf",e.parseNotificationContent(a.content)),t.R7$(),t.Y8G("ngIf",!e.parseNotificationContent(a.content)),t.R7$(2),t.Y8G("ngIf",!a.read)}}function f(o,s){if(1&o){const a=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"h2",16),t.EFF(4,"Notifications"),t.k0s(),t.DNE(5,r,5,1,"div",17),t.k0s(),t.j41(6,"ion-button",18),t.bIt("click",function(){t.eBV(a);const n=t.XpG();return t.Njj(n.getNotifications())}),t.nrm(7,"ion-icon",19),t.k0s()(),t.j41(8,"div",20),t.DNE(9,c,16,13,"div",21),t.k0s()()}if(2&o){const a=t.XpG();t.R7$(5),t.Y8G("ngIf",a.getUnreadCount()>0),t.R7$(4),t.Y8G("ngForOf",a.notifications)("ngForTrackBy",a.trackByNotificationId)}}function p(o,s){if(1&o){const a=t.RV6();t.j41(0,"div",61)(1,"div",62)(2,"div",63),t.nrm(3,"ion-icon",64)(4,"div",65),t.k0s(),t.j41(5,"h2",66),t.EFF(6,"No Notifications"),t.k0s(),t.j41(7,"p",67),t.EFF(8," You're all caught up! We'll notify you when there's something new. "),t.k0s(),t.j41(9,"div",68)(10,"ion-button",69),t.bIt("click",function(){t.eBV(a);const n=t.XpG();return t.Njj(n.getNotifications())}),t.nrm(11,"ion-icon",70),t.EFF(12," Refresh "),t.k0s(),t.j41(13,"ion-button",71),t.nrm(14,"ion-icon",72),t.EFF(15," Settings "),t.k0s()(),t.j41(16,"div",73)(17,"h3",74),t.EFF(18,"What you'll be notified about:"),t.k0s(),t.j41(19,"div",75)(20,"div",76),t.nrm(21,"ion-icon",77),t.j41(22,"span"),t.EFF(23,"Order updates and tracking"),t.k0s()(),t.j41(24,"div",76),t.nrm(25,"ion-icon",77),t.j41(26,"span"),t.EFF(27,"Special offers and discounts"),t.k0s()(),t.j41(28,"div",76),t.nrm(29,"ion-icon",77),t.j41(30,"span"),t.EFF(31,"Service reminders"),t.k0s()(),t.j41(32,"div",76),t.nrm(33,"ion-icon",77),t.j41(34,"span"),t.EFF(35,"Account security alerts"),t.k0s()()()()()()}}const m=[{path:"",component:(()=>{var o;class s{constructor(e,n){this.logic=e,this.haptics=n,this.notifications=[],this.isLoading=!1}ngOnInit(){}ionViewWillEnter(){this.getNotifications()}getNotifications(){var e=this;return(0,u.A)(function*(){e.isLoading=!0;try{e.logic.getNotifications().subscribe({next:n=>{console.log(n),e.notifications=n.data||[],e.isLoading=!1},error:n=>{console.error("Error fetching notifications:",n),e.isLoading=!1}})}catch(n){console.error("Error:",n),e.isLoading=!1}})()}deleteNotification(e){this.haptics.hapticsImpactMedium(),this.logic.deleteNotification(e).subscribe({next:()=>{this.notifications=this.notifications.filter(n=>n._id!==e),this.haptics.hapticsImpactLight()},error:n=>{console.error("Error deleting notification:",n),this.haptics.hapticsImpactMedium()}})}markAsRead(e){this.haptics.hapticsImpactLight();const n=this.notifications.find(l=>l._id===e);n&&(n.read=!0)}markAllAsRead(){this.haptics.hapticsImpactMedium(),this.notifications.forEach(e=>{e.read=!0})}getUnreadCount(){return this.notifications.filter(e=>!e.read).length}trackByNotificationId(e,n){return n._id}parseNotificationContent(e){try{const n=e.replace(/new ObjectId\(/g,'"').replace(/\)/g,'"');return JSON.parse(n)}catch(n){return console.error("Error parsing notification content:",n),null}}getNotificationIcon(e){const n=e.toLowerCase();return n.includes("order")&&n.includes("ready")?"checkmark-circle":n.includes("delivery")?"car":n.includes("pickup")?"bag":n.includes("confirmed")?"checkmark":n.includes("process")?"sync":n.includes("assigned")?"person":"notifications"}getNotificationColor(e){const n=e.toLowerCase();return n.includes("ready")||n.includes("delivered")?"success":n.includes("process")||n.includes("way")?"warning":n.includes("confirmed")||n.includes("assigned")?"primary":"medium"}formatDate(e){const n=new Date(e),_=Math.abs((new Date).getTime()-n.getTime())/36e5;if(_<1)return"Just now";if(_<24){const U=Math.floor(_);return`${U} hour${U>1?"s":""} ago`}return _<48?"Yesterday":n.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}getOrderStatusText(e){return{0:"Pending",1:"Confirmed",2:"Processing",3:"Ready for Pickup",4:"Ready for Delivery",5:"Out for Delivery",6:"Delivered",7:"Completed"}[e]||"Unknown"}getOrderStatusColor(e){return{0:"warning",1:"primary",2:"secondary",3:"tertiary",4:"success",5:"warning",6:"success",7:"success"}[e]||"medium"}}return(o=s).\u0275fac=function(e){return new(e||o)(t.rXU(v.W),t.rXU(w.o))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-notifications"]],decls:13,vars:6,consts:[[1,"ion-no-border",3,"translucent"],["slot","start"],["defaultHref","/tabs/tabs/tab1"],["slot","end"],["fill","clear",1,"mark-all-read-btn",3,"click","disabled"],["name","checkmark-done-outline","slot","icon-only"],[3,"fullscreen"],["class","loading-container",4,"ngIf"],["class","notifications-container",4,"ngIf"],["class","empty-notifications",4,"ngIf"],[1,"loading-container"],["name","crescent",1,"loading-spinner"],[1,"loading-text"],[1,"notifications-container"],[1,"notifications-header"],[1,"header-info"],[1,"header-title"],["class","unread-badge",4,"ngIf"],["fill","clear",1,"refresh-btn",3,"click"],["name","refresh-outline","slot","icon-only"],[1,"notifications-list"],["class","notification-item",3,"unread","read",4,"ngFor","ngForOf","ngForTrackBy"],[1,"unread-badge"],[1,"unread-count"],[1,"unread-text"],[1,"notification-item"],[1,"notification-icon-container"],[1,"notification-icon",3,"name"],["class","unread-indicator",4,"ngIf"],[1,"notification-content",3,"click"],[1,"notification-header"],[1,"notification-title"],[1,"notification-time"],["class","order-details",4,"ngIf"],["class","notification-message",4,"ngIf"],[1,"notification-actions"],["fill","clear","class","action-btn mark-read-btn",3,"click",4,"ngIf"],["fill","clear",1,"action-btn","delete-btn",3,"click"],["name","trash-outline","slot","icon-only"],[1,"unread-indicator"],[1,"order-details"],[1,"order-info"],[1,"order-id"],["name","receipt-outline",1,"order-icon"],[1,"order-number"],["class","order-status",4,"ngIf"],["class","price-info",4,"ngIf"],[1,"order-status"],[1,"status-badge",3,"color"],[1,"price-info"],[1,"total-amount"],[1,"amount-label"],[1,"amount-value"],["class","delivery-info",4,"ngIf"],[1,"delivery-info"],[1,"time-info"],["name","time-outline",1,"time-icon"],[1,"time-text"],[1,"notification-message"],["fill","clear",1,"action-btn","mark-read-btn",3,"click"],["name","checkmark-outline","slot","icon-only"],[1,"empty-notifications"],[1,"empty-content"],[1,"empty-icon-container"],["name","notifications-outline",1,"empty-icon"],[1,"icon-background"],[1,"empty-title"],[1,"empty-subtitle"],[1,"quick-actions"],["fill","outline",1,"refresh-btn",3,"click"],["name","refresh-outline","slot","start"],["fill","outline",1,"settings-btn"],["name","settings-outline","slot","start"],[1,"notification-types"],[1,"types-title"],[1,"type-list"],[1,"type-item"],["name","checkmark-circle",1,"check-icon"]],template:function(e,n){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Notifications"),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"ion-back-button",2),t.k0s(),t.j41(6,"ion-buttons",3)(7,"ion-button",4),t.bIt("click",function(){return n.markAllAsRead()}),t.nrm(8,"ion-icon",5),t.k0s()()()(),t.j41(9,"ion-content",6),t.DNE(10,N,4,0,"div",7)(11,f,10,3,"div",8)(12,p,36,0,"div",9),t.k0s()),2&e&&(t.Y8G("translucent",!0),t.R7$(7),t.Y8G("disabled",0===n.getUnreadCount()),t.R7$(2),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.notifications.length>0),t.R7$(),t.Y8G("ngIf",!n.isLoading&&0===n.notifications.length))},dependencies:[b.Sq,b.bT,g.In,g.Jm,g.QW,g.W9,g.eU,g.iq,g.w2,g.BC,g.ai,g.el],styles:['ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);--color: #1e293b}ion-header[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(148,163,184,.1)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-color: transparent;--color: #1e293b;--padding-top: 8px;--padding-bottom: 8px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;letter-spacing:.5px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]{--color: #64748b;--color-hover: #3b82f6;--color-activated: #3b82f6;--icon-font-size: 24px;--icon-padding-start: 8px;--icon-padding-end: 8px;--padding-start: 8px;--padding-end: 8px;--border-radius: 12px;--background: rgba(59, 130, 246, .1);--background-hover: rgba(59, 130, 246, .2);--background-activated: rgba(59, 130, 246, .2);transition:all .3s ease}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]:hover{transform:translate(-2px)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .mark-all-read-btn[_ngcontent-%COMP%]{--color: #64748b;--color-hover: #10b981;--color-activated: #10b981;--border-radius: 12px;--padding-start: 8px;--padding-end: 8px;transition:all .3s ease}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .mark-all-read-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);--color: #10b981}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .mark-all-read-btn[_ngcontent-%COMP%]:disabled{--color: #cbd5e1;opacity:.5}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;padding:40px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;--color: #3b82f6;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;font-weight:500;margin:0}.notifications-container[_ngcontent-%COMP%]{padding:20px 16px}.notifications-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding:0 4px}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1e293b;margin:0;background:linear-gradient(135deg,#1e293b,#3b82f6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;padding:6px 12px;border-radius:20px;font-size:.75rem;font-weight:600;box-shadow:0 4px 12px #ef44444d;animation:_ngcontent-%COMP%_unreadBadgePulse 2s ease-in-out infinite}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]   .unread-count[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]   .unread-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.notifications-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{--color: #64748b;--color-hover: #3b82f6;--color-activated: #3b82f6;--border-radius: 12px;--padding-start: 8px;--padding-end: 8px;transition:all .3s ease}.notifications-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);--color: #3b82f6}@keyframes _ngcontent-%COMP%_unreadBadgePulse{0%,to{transform:scale(1);box-shadow:0 4px 12px #ef44444d}50%{transform:scale(1.05);box-shadow:0 6px 16px #ef444466}}.notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-item[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:20px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(148,163,184,.1);transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;gap:16px;position:relative;overflow:hidden}.notification-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);opacity:0;transition:opacity .3s ease}.notification-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 32px #00000026}.notification-item[_ngcontent-%COMP%]:hover:before{opacity:1}.notification-item.unread[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f605,#8b5cf605);border-color:#3b82f633}.notification-item.unread[_ngcontent-%COMP%]:before{opacity:1}.notification-item.unread[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_iconPulse 2s ease-in-out infinite}.notification-item.read[_ngcontent-%COMP%]{opacity:.8}.notification-item.read[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_iconPulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.notification-icon-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.notification-icon-container[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:32px;padding:12px;border-radius:16px;background:#3b82f61a;transition:all .3s ease}.notification-icon-container[_ngcontent-%COMP%]   .notification-icon.icon-success[_ngcontent-%COMP%]{color:#10b981;background:#10b9811a}.notification-icon-container[_ngcontent-%COMP%]   .notification-icon.icon-warning[_ngcontent-%COMP%]{color:#f59e0b;background:#f59e0b1a}.notification-icon-container[_ngcontent-%COMP%]   .notification-icon.icon-primary[_ngcontent-%COMP%]{color:#3b82f6;background:#3b82f61a}.notification-icon-container[_ngcontent-%COMP%]   .notification-icon.icon-medium[_ngcontent-%COMP%]{color:#64748b;background:#64748b1a}.notification-icon-container[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:12px;height:12px;background:#ef4444;border-radius:50%;border:2px solid white;box-shadow:0 2px 4px #0003;animation:_ngcontent-%COMP%_unreadIndicatorPulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_unreadIndicatorPulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.8}}.notification-content[_ngcontent-%COMP%]{flex:1;cursor:pointer}.notification-content[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.notification-content[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin:0;line-height:1.3;flex:1}.notification-content[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:500;white-space:nowrap;margin-left:12px}.order-details[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.order-details[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.order-details[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]   .order-icon[_ngcontent-%COMP%]{color:#64748b;font-size:16px}.order-details[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]   .order-number[_ngcontent-%COMP%]{font-size:.875rem;color:#1e293b;font-weight:600}.order-details[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;padding:4px 8px;border-radius:12px}.order-details[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.order-details[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.order-details[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem;color:#1e293b;font-weight:700}.order-details[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.order-details[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%]   .time-icon[_ngcontent-%COMP%]{color:#64748b;font-size:14px}.order-details[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%]   .time-text[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;font-weight:500}.notification-message[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;line-height:1.5;margin:0}.notification-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex-shrink:0}.notification-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--color: #64748b;--color-hover: #3b82f6;--color-activated: #3b82f6;--border-radius: 12px;--padding-start: 8px;--padding-end: 8px;transition:all .3s ease}.notification-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.notification-actions[_ngcontent-%COMP%]   .action-btn.mark-read-btn[_ngcontent-%COMP%]{--color-hover: #10b981;--color-activated: #10b981}.notification-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{--color-hover: #ef4444;--color-activated: #ef4444}.empty-notifications[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;padding:40px 20px;text-align:center}.empty-content[_ngcontent-%COMP%]{max-width:500px;width:100%}.empty-icon-container[_ngcontent-%COMP%]{position:relative;margin-bottom:32px;display:flex;justify-content:center}.empty-icon[_ngcontent-%COMP%]{font-size:80px;color:#3b82f6;position:relative;z-index:2;animation:_ngcontent-%COMP%_iconFloat 3s ease-in-out infinite}.icon-background[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:radial-gradient(circle,rgba(59,130,246,.1) 0%,rgba(59,130,246,.05) 70%,transparent 100%);border-radius:50%;animation:_ngcontent-%COMP%_backgroundPulse 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_iconFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_backgroundPulse{0%,to{transform:translate(-50%,-50%) scale(1);opacity:.6}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.8}}.empty-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin:0 0 16px;background:linear-gradient(135deg,#1e293b,#3b82f6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.empty-subtitle[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;margin:0 0 40px;line-height:1.6;font-weight:500}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;margin-bottom:48px;flex-wrap:wrap}.refresh-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{--border-color: rgba(59, 130, 246, .3);--color: #3b82f6;--border-width: 2px;--border-radius: 16px;--padding-start: 24px;--padding-end: 24px;--padding-top: 12px;--padding-bottom: 12px;--font-weight: 600;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover, .settings-btn[_ngcontent-%COMP%]:hover{--background: rgba(59, 130, 246, .1);--border-color: rgba(59, 130, 246, .5);transform:translateY(-2px);box-shadow:0 8px 24px #3b82f633}.refresh-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.notification-types[_ngcontent-%COMP%]{background:#fffc;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;padding:32px;border:1px solid rgba(148,163,184,.1);box-shadow:0 8px 32px #00000014}.types-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 24px;text-align:center;position:relative}.types-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:50%;transform:translate(-50%);width:40px;height:3px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border-radius:2px}.type-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.type-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#3b82f60d;border-radius:16px;border:1px solid rgba(59,130,246,.1);transition:all .3s ease}.type-item[_ngcontent-%COMP%]:hover{background:#3b82f61a;border-color:#3b82f633;transform:translate(4px)}.type-item[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{color:#10b981;font-size:20px;flex-shrink:0}.type-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:#1e293b;font-weight:500;line-height:1.4}@media (max-width: 768px){.notifications-container[_ngcontent-%COMP%]{padding:16px 12px}.notifications-header[_ngcontent-%COMP%]{margin-bottom:20px}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{padding:4px 8px;font-size:.7rem}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]   .unread-count[_ngcontent-%COMP%]{font-size:.8rem}.notification-item[_ngcontent-%COMP%]{padding:16px;gap:12px}.notification-item[_ngcontent-%COMP%]   .notification-icon-container[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:28px;padding:10px}.empty-notifications[_ngcontent-%COMP%]{padding:32px 16px}.empty-icon[_ngcontent-%COMP%]{font-size:64px}.icon-background[_ngcontent-%COMP%]{width:100px;height:100px}.empty-title[_ngcontent-%COMP%]{font-size:1.75rem}.empty-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:32px}.quick-actions[_ngcontent-%COMP%]{gap:12px;margin-bottom:32px}.refresh-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{--padding-start: 20px;--padding-end: 20px;--padding-top: 10px;--padding-bottom: 10px}.notification-types[_ngcontent-%COMP%]{padding:24px}.types-title[_ngcontent-%COMP%]{font-size:1.125rem}.type-item[_ngcontent-%COMP%]{padding:10px 14px}.type-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.notifications-container[_ngcontent-%COMP%]{padding:12px 8px}.notifications-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.notifications-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.375rem}.notification-item[_ngcontent-%COMP%]{padding:14px;gap:10px;flex-direction:column}.notification-item[_ngcontent-%COMP%]   .notification-icon-container[_ngcontent-%COMP%]{align-self:flex-start}.notification-item[_ngcontent-%COMP%]   .notification-icon-container[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:24px;padding:8px}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end;width:100%}.empty-notifications[_ngcontent-%COMP%]{padding:24px 12px}.empty-icon[_ngcontent-%COMP%]{font-size:56px}.icon-background[_ngcontent-%COMP%]{width:80px;height:80px}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem}.empty-subtitle[_ngcontent-%COMP%]{font-size:.95rem}.quick-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:12px}.refresh-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.notification-types[_ngcontent-%COMP%]{padding:20px}.type-item[_ngcontent-%COMP%]{padding:8px 12px}.type-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem}}.notifications-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out forwards}.notification-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .6s ease-out forwards}.notification-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.notification-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.notification-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.notification-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.notification-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.notification-item[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.notification-item[_ngcontent-%COMP%]:nth-child(7){animation-delay:.7s}.notification-item[_ngcontent-%COMP%]:nth-child(8){animation-delay:.8s}.notification-item[_ngcontent-%COMP%]:nth-child(9){animation-delay:.9s}.notification-item[_ngcontent-%COMP%]:nth-child(10){animation-delay:1s}.empty-notifications[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out forwards}.notification-types[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .8s ease-out forwards;animation-delay:.2s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.notification-item[_ngcontent-%COMP%]:focus-within{outline:2px solid #3b82f6;outline-offset:2px}.action-btn[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.refresh-btn[_ngcontent-%COMP%]:focus, .settings-btn[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.type-item[_ngcontent-%COMP%]:focus-within{outline:2px solid #3b82f6;outline-offset:2px}.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}*[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.notification-item[_ngcontent-%COMP%]:hover   .notification-icon[_ngcontent-%COMP%]{transform:scale(1.05)}.notification-item[_ngcontent-%COMP%]:hover   .unread-indicator[_ngcontent-%COMP%], .empty-icon-container[_ngcontent-%COMP%]:hover   .empty-icon[_ngcontent-%COMP%], .empty-icon-container[_ngcontent-%COMP%]:hover   .icon-background[_ngcontent-%COMP%]{animation-play-state:paused}.types-title[_ngcontent-%COMP%]:after{transition:width .3s ease}.notification-types[_ngcontent-%COMP%]:hover   .types-title[_ngcontent-%COMP%]:after{width:60px}.refresh-btn[_ngcontent-%COMP%]:hover, .settings-btn[_ngcontent-%COMP%]:hover{--background: rgba(59, 130, 246, .15)}.type-item[_ngcontent-%COMP%]:hover   .check-icon[_ngcontent-%COMP%]{transform:scale(1.1);color:#059669}.notification-item[_ngcontent-%COMP%]:hover   .notification-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{transform:scale(1.05)}']}),s})()}];let k=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[x.iI.forChild(m),x.iI]}),s})(),I=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[b.MD,P.YN,g.bv,k]}),s})()},8786:(L,O,d)=>{d.d(O,{W:()=>j});var b=d(467),P=d(1626),g=d(4412),x=d(8810),u=d(9437),t=d(8141),v=d(7673),w=d(7468),N=d(6354);const r_URL="https://api.breezyemart.com/api/v1/";var M=d(3953),R=d(8490);let j=(()=>{var h;class y{constructor(i,c){this.http=i,this.storage=c,this.categories=[],this.address=[],this.laundriesByCategory=[],this.services=[],this.allLaundries=[],this.accessToken=new g.t(""),this.userId=new g.t(""),this.userProfileUpdated=new g.t(""),this.categoriesSubject=new g.t(this.categories),this.category$=this.categoriesSubject.asObservable(),this.addressSubject=new g.t(this.address),this.address$=this.addressSubject.asObservable(),this.laundriesByCategorySubject=new g.t([]),this.laundryByCategory$=this.laundriesByCategorySubject.asObservable(),this.servicesSubject=new g.t([]),this.allLaundriesSubject=new g.t([]),this.laundry$=this.allLaundriesSubject.asObservable(),this.init()}init(){var i=this;return(0,b.A)(function*(){let c=yield i.storage.get("accessToken"),f=yield i.storage.get("userId"),p=yield i.storage.get("profileUpdated");i.accessToken.next(c),i.userId.next(f),i.userProfileUpdated.next(p)})()}handleError(i){return console.error("An error occurred:",i.message),(0,x.$)("Something went wrong; please try again later.")}getUserId(){var i=this;return(0,b.A)(function*(){const c=yield i.storage.get("userId");if(c)return c;throw new Error("User Not Found in local Storgare")})()}register(i){return this.http.post(r_URL+"partner/register",i)}login(i){return this.http.post(r_URL+"user/login",i)}logout(){return this.http.get(r_URL+`user/logout?userId=${this.userId.value}`)}getUserProfile(){return this.http.get(r_URL+`user/get-current-user?userId=${this.userId.value}`)}updateUserProfile(i){return this.http.put(r_URL+`user/update-profile?userId=${this.userId.value}`,i)}getNotifications(){return this.http.get(r_URL+`notification/get/all/user/${this.userId.value}`).pipe((0,u.W)(this.handleError))}deleteNotification(i){return this.http.delete(r_URL+`notification/delete/${i}`).pipe((0,u.W)(this.handleError))}getAllCategories(){this.http.get(r_URL+"partner/category/getAll").pipe((0,t.M)(i=>{console.log(i),this.categoriesSubject.next(i)}),(0,u.W)(this.handleError)).subscribe()}getAllAddress(){return this.http.get(r_URL+`user/get/all-address/${this.userId.value}`)}addUserAddress(i){return this.http.post(r_URL+`user/add-address?userId=${this.userId.value}`,i)}getUserAddress(){return this.http.get(r_URL+`user/get/all-address/${this.userId.value}`)}getLaundryByCategory(i,c,f,p){let C=(new P.Nl).set("categoryId","66a7496d1f27b4f5fb506c1d").set("userId",p).set("latitude",i).set("longitude",c);this.http.get(r_URL+"partner/shop/get-all",{params:C}).pipe((0,t.M)(m=>{console.log(m),this.laundriesByCategorySubject.next(m)}),(0,u.W)(this.handleError)).subscribe()}getServiceByLaundry(){let i=(new P.Nl).set("search","").set("latitude","18.5925785").set("longitude","73.7183639");this.http.get(r_URL+"partner/shop/get/by/category",{params:i}).pipe((0,t.M)(c=>{console.log(c),this.allLaundriesSubject.next(c)}),(0,u.W)(this.handleError)).subscribe()}getAllLaundries(){let i=(new P.Nl).set("search","").set("latitude","18.5925785").set("longitude","73.7183639");return this.http.get(r_URL+"partner/shop/get-all",{params:i})}getServiceByLaundryId(i){return this.http.get(r_URL+`partner/service/get/shopId/${i}`)}getAllOffers(){return this.http.get(r_URL+"admin/promoCode/get-all")}like(i){return this.http.post(r_URL+`partner/shop/like/${i}/${this.userId.value}`,{})}unlike(i){return this.http.post(r_URL+`partner/shop/unlike/${i}/${this.userId.value}`,{})}addToCart(i,c,f){return console.log(`Quantity added is in htttp ${c}`),this.http.post(r_URL+"cart/add",{userId:this.userId.value,quantity:c,serviceId:i,selectedQuantityType:f})}removeFromCart(i,c){return this.http.post(r_URL+"cart/remove",{userId:this.userId.value.toString(),quantity:c,serviceId:i})}fetchCartAndServices(i){const c=this.http.get(r_URL+`cart/${this.userId.value}`).pipe((0,u.W)(p=>(console.error("Cart fetch error:",p),(0,v.of)({data:{products:[]}})))),f=this.http.get(r_URL+`partner/service/get/shopId/${i}`).pipe((0,u.W)(p=>(console.error("Services fetch error:",p),(0,v.of)({data:{content:[]}}))));return(0,w.p)([c,f]).pipe((0,N.T)(([p,C])=>{const m=p.data.products||[];return(C.data.content||[]).map(o=>{const s=m.find(a=>a.serviceId._id===o._id);return{...o,quantity:s?s.quantity:0}})}))}getCart(){return this.http.get(r_URL+`cart/${this.userId.value}`)}checkout(i){return this.http.post(r_URL+"order/initiate/payment",{amount:i},{headers:{"x-access-token":this.accessToken.value.toString()}})}calculateCartAmount(i){return this.http.post(r_URL+"order/calculate/amount-to-pay",{userId:this.userId.value,code:i},{headers:{"x-access-token":this.accessToken.value}})}placeOrder(i,c,f,p,C,m,k,I){return this.http.post(r_URL+"order/place",{userId:this.userId.value,dropoffAddressId:i,pickupAddressId:c,pickupTime:f,dropoffTime:p,selfService:C,priceDetails:m,orderType:k,products:I})}getAllUserOrders(){return this.http.get(r_URL+`order/get/order/${this.userId.value}`)}getUserSubscription(){return this.http.get(r_URL+"subscription/get/all-plans")}getSubscriptionByUserId(){return this.http.get(r_URL+`subscription/get/${this.userId.value}`)}purchaseSubscription(i,c){return this.http.post(r_URL+"subscription/purchase",{userId:this.userId.value,planId:i,paymentDetails:c})}addRating(i){return this.http.post(r_URL+"ratting/add",i,{headers:{"x-access-token":this.accessToken.value}})}}return(h=y).\u0275fac=function(i){return new(i||h)(M.KVO(P.Qq),M.KVO(R.u))},h.\u0275prov=M.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),y})()}}]);