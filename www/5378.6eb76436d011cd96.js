"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5378],{5378:(F,h,l)=>{l.r(h),l.d(h,{Tab2PageModule:()=>v});var c=l(5374),g=l(177),f=l(4341),m=l(1307),u=l(5260),d=l(467),t=l(3953),x=l(3455),y=l(8786),b=l(5219);function C(e,s){if(1&e&&t.nrm(0,"app-product-card",13),2&e){const o=s.$implicit;t.Y8G("productImageUrl",null==o||null==o.serviceId?null:o.serviceId.image_url)("productName",null==o||null==o.serviceId?null:o.serviceId.name)("quantityAcceptedIn",null==o?null:o.selectedQuantityType)("quantity",null==o?null:o.quantity)("desc",null==o||null==o.serviceId?null:o.serviceId.description)("productPrice",null==o||null==o.serviceId?null:o.serviceId.perKgPrice)}}function P(e,s){if(1&e&&(t.j41(0,"ion-item")(1,"ion-label",6),t.EFF(2,"(GST)"),t.k0s(),t.j41(3,"p",7),t.EFF(4),t.nI1(5,"currency"),t.k0s()()),2&e){const o=t.XpG();t.R7$(4),t.JRh(t.i5U(5,1,o.gstCharges,"INR"))}}const M=[{path:"",component:(()=>{var e;class s{constructor(i,n,r,a){this.haptics=i,this.router=n,this.logic=r,this.actionSheetController=a,this.products=[],this.cart=[],this.subtotal=0,this.total=0,this.deliveryCharges=50,this.handlingFeed=50,this.gstCharges=100,this.addMoreItemsWorthAmount=0,this.promoCode="",this.promoCodeInputFillType="outline",this.isPromoCodeApplied=!1,this.priceDetailsObject={}}ionViewDidEnter(){this.getCart()}getCart(){var n,i=this;this.logic.getCart().subscribe({next:(n=(0,d.A)(function*(r){console.log(r),i.products=r.data.products,i.totalprice=r.data.totalPrice}),function(a){return n.apply(this,arguments)}),error:function(){var n=(0,d.A)(function*(r){console.log(r)});return function(a){return n.apply(this,arguments)}}()})}checkout(){var n,i=this;this.logic.checkout(this.totalprice).subscribe({next:(n=(0,d.A)(function*(r){console.log(r),i.razorpayCheckput(r.data.id,r.data.amount)}),function(a){return n.apply(this,arguments)}),error:function(){var n=(0,d.A)(function*(r){console.log(r)});return function(a){return n.apply(this,arguments)}}()})}presentActionSheet(){var i=this;return(0,d.A)(function*(){yield(yield i.actionSheetController.create({header:"Choose Delivery Option",animated:!0,backdropDismiss:!0,mode:"ios",buttons:[{text:"Normal Delivery(1-2 Days)",icon:"sunny",role:"selected",handler:()=>{console.log("Delete clicked"),i.haptics.hapticsImpactLight(),i.checkout()}},{text:"Express Delivery(One day delivery)",icon:"rocket",handler:()=>{console.log("Share clicked"),i.haptics.hapticsImpactLight(),i.checkout()}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}calculateTotalAmountForPayment(i){var r,n=this;this.logic.calculateCartAmount(i,this.coordinates.coords.latitude,this.coordinates.coords.longitude,this.shopLat,this.shopLng).subscribe({next:(r=(0,d.A)(function*(a){console.log(a),n.priceDetailsObject=a.data,n.deliveryCharges=a.data.deliveryCharges,n.gstCharges=a.data.gstAmount,n.handlingFeed=a.data.platformFee,n.total=a.data.totalAmountToPay,n.subtotal=a.data.subtotal,n.subtotal<500&&(n.addMoreItemsWorthAmount=500-n.subtotal);let p=a.data.promoCodeId;null==p?(n.isPromoCodeApplied=!1,n.promoCodeInputFillType="outline"):null!=p&&(n.isPromoCodeApplied=!0,n.promoCodeInputFillType="solid")}),function(p){return r.apply(this,arguments)}),error:function(){var r=(0,d.A)(function*(a){console.log(a)});return function(p){return r.apply(this,arguments)}}()})}razorpayCheckput(i,n){var a=new Razorpay({key:"rzp_test_q92KbX0ZwFyaN0",amount:n,currency:"INR",name:"Breezy",description:"Test Transaction",image:"https://example.com/your_logo",order_id:i,handler:p=>{console.log("Payment Success"),this.router.navigate(["payment-success"])},theme:{color:"#7e2faf"}});a.on("payment.failed",function(p){console.log("Payment Error")}),a.open()}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(x.o),t.rXU(u.Ix),t.rXU(y.W),t.rXU(c.GD))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tab2"]],decls:60,vars:23,consts:[[1,"ion-no-border",3,"translucent"],[3,"fullscreen"],[1,"ion-padding"],[3,"productImageUrl","productName","quantityAcceptedIn","quantity","desc","productPrice",4,"ngFor","ngForOf"],[1,"icon"],["color","primary","mode","ios","outline","true"],[2,"font-size","14px","font-weight","300"],["slot","end",1,"pricing"],[4,"ngIf"],[1,"animate__animated","animate__slideInUp"],["color","primary"],["color","light","expand","block","fill","clear","shape","round",3,"click"],["slot","end","name","arrow-forward-outline",1,"animate__animated","animate__shakeX","animate__slower","animate__infinite"],[3,"productImageUrl","productName","quantityAcceptedIn","quantity","desc","productPrice"]],template:function(i,n){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Cart "),t.k0s()()(),t.j41(4,"ion-content",1)(5,"ion-card",2)(6,"ion-card-header")(7,"ion-card-subtitle"),t.EFF(8,"(Add more 100 worth items to get free delivery!)"),t.k0s(),t.j41(9,"ion-card-title"),t.EFF(10),t.k0s()(),t.DNE(11,C,1,6,"app-product-card",3),t.k0s(),t.j41(12,"ion-card")(13,"div",4)(14,"ion-chip",5)(15,"ion-label"),t.EFF(16,"Edit"),t.k0s()()(),t.j41(17,"ion-card-header")(18,"ion-card-subtitle"),t.EFF(19,"Shipping Details "),t.k0s()(),t.j41(20,"ion-card-content")(21,"p")(22,"strong"),t.EFF(23,"Delivery To:"),t.k0s()(),t.j41(24,"p"),t.EFF(25),t.k0s()()(),t.j41(26,"ion-card")(27,"ion-card-header")(28,"ion-card-subtitle"),t.EFF(29,"Order Details"),t.k0s()(),t.j41(30,"ion-item")(31,"ion-label",6),t.EFF(32,"Subtotal"),t.k0s(),t.j41(33,"p",7),t.EFF(34),t.nI1(35,"currency"),t.k0s()(),t.j41(36,"ion-item")(37,"ion-label",6),t.EFF(38,"Delivery"),t.k0s(),t.j41(39,"p",7),t.EFF(40),t.nI1(41,"currency"),t.k0s()(),t.j41(42,"ion-item")(43,"ion-label",6),t.EFF(44,"Handling Fees"),t.k0s(),t.j41(45,"p",7),t.EFF(46),t.k0s()(),t.DNE(47,P,6,4,"ion-item",8),t.j41(48,"ion-item")(49,"ion-label",6),t.EFF(50,"Total"),t.k0s(),t.j41(51,"p",7),t.EFF(52),t.nI1(53,"currency"),t.k0s()()()(),t.j41(54,"ion-footer",9)(55,"ion-toolbar",10)(56,"ion-button",11),t.bIt("click",function(){return n.presentActionSheet()}),t.EFF(57),t.nI1(58,"currency"),t.nrm(59,"ion-icon",12),t.k0s()()()),2&i&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(6),t.SpI("Cart Items(",n.products.length," Items)"),t.R7$(),t.Y8G("ngForOf",n.products),t.R7$(14),t.JRh(null==n.currentAddress?null:n.currentAddress.address),t.R7$(9),t.JRh(t.i5U(35,11,n.subtotal,"INR")),t.R7$(6),t.JRh(t.i5U(41,14,n.deliveryCharges,"INR")),t.R7$(6),t.JRh(n.handlingFeed+"%"),t.R7$(),t.Y8G("ngIf",n.gstCharges>0),t.R7$(5),t.JRh(t.i5U(53,17,n.total,"INR")),t.R7$(5),t.SpI(" Your Order Total is ",t.i5U(58,20,n.totalprice,"INR")," "))},dependencies:[c.Jm,c.b_,c.I9,c.ME,c.HW,c.tN,c.ZB,c.W9,c.M0,c.eU,c.iq,c.uz,c.he,c.BC,c.ai,g.Sq,g.bT,b.V,g.oe],styles:["ion-content[_ngcontent-%COMP%]{--background:#fdfdfd}.container[_ngcontent-%COMP%]{padding:10px}.pricing[_ngcontent-%COMP%]{color:#22a45d;font-size:12px;font-weight:400}.sort-list-container[_ngcontent-%COMP%]{width:auto;scroll-behavior:smooth;overflow-x:auto;overflow-y:hidden;display:inline-flex;gap:8px}.badge.active[_ngcontent-%COMP%]{height:40px;width:80px;padding:4px;border-radius:14px;background-color:#ffe2c8;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:5px}.badge[_ngcontent-%COMP%]{height:40px;width:80px;padding:4px;border-radius:14px;background-color:#f1f1f1;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:5px}.badge.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px;fill:#f70}.badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.badge.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#f70}.ion-item[_ngcontent-%COMP%]{height:200px;display:flex;flex-direction:row;justify-content:space-between}.hotel-thumbnail[_ngcontent-%COMP%]{height:80px;width:80px;border-radius:8px}.hotel-item-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:space-between;justify-content:center}ion-item[_ngcontent-%COMP%]   .rating-container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:10px;margin:0}.rating[_ngcontent-%COMP%]{margin:0;font-size:14px}.rating-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:2px}.sub-title[_ngcontent-%COMP%]{font-size:12px}ion-chip[_ngcontent-%COMP%]{z-index:100}ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-chip[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:30px}.sort-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#e7fff1;height:20px;width:57px;border-radius:2px;padding-left:10px;padding-right:10px;margin-top:6px}.sort-badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#00c54f}ion-item[_ngcontent-%COMP%]:active{animation:scale-down-center .8s cubic-bezier(.25,.46,.45,.94) both}ion-chip[_ngcontent-%COMP%]{margin-right:10px}.swiper-container[_ngcontent-%COMP%]{display:inline-flex;gap:2px;flex-direction:row;align-items:center;overflow-x:auto;width:100vw}.chip[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:row;width:76vw;height:48px;border:1px solid lightgray;border-radius:23px;justify-content:center;align-items:center;gap:10px}.chip[_ngcontent-%COMP%]:active{border-color:var(--ion-color-primary);background-color:#ffc4c8}.text[_ngcontent-%COMP%]{font-size:12px}.img-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:auto}.product-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;margin-bottom:16px;border-bottom:1px solid #e6e6e6;padding-bottom:7px}.product-info[_ngcontent-%COMP%]{display:flex;align-items:stretch}.product-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;object-fit:cover;margin-right:8px;padding:0}.product-details[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:center;flex-direction:column}.product-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:12px}.quantity[_ngcontent-%COMP%]{font-size:.5em;margin:4px 0}.options[_ngcontent-%COMP%]{margin-top:8px}.cart-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:var(--ion-color-primary);border-radius:20px;width:5em;padding:6px 14px}.cart-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;background-color:transparent;font-size:1em;color:#fff}.cart-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em;color:#fff}ion-card[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:20}.notice[_ngcontent-%COMP%]{margin:0;color:#c2c2c2;font-size:10px;font-weight:600;text-wrap:balance}"]}),s})()}];let O=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.iI.forChild(M),u.iI]}),s})();var _=l(541);let v=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[c.bv,g.MD,f.YN,_.G,m.S,O]}),s})()}}]);