<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-title>Search Laundries</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tabs/tab1"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>

  <!-- Enhanced Search Bar -->
  <div class="search-container">
    <ion-searchbar
      mode="ios"
      placeholder="Search for laundries, services, or locations..."
      inputmode="text"
      type="text"
      [(ngModel)]="laundryFilter.name"
      (ionClear)="onClearEvent($event)"
      (ionChange)="onSearchChange($event)"
      [debounce]="250"
      showCancelButton="always"
      class="premium-searchbar"
    ></ion-searchbar>
  </div>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Search Results Section -->
  <div
    class="search-results-section"
    *ngIf="(allLaundries | filterBy: laundryFilter).length > 0"
  >
    <div class="section-header">
      <h2 class="section-title">Search Results</h2>
      <span class="results-count"
        >{{ (allLaundries | filterBy: laundryFilter).length }} found</span
      >
    </div>

    <div class="laundries-list">
      <div
        class="laundry-item"
        *ngFor="let item of allLaundries | filterBy: laundryFilter"
      >
        <div class="laundry-image">
          <img
            [src]="item.imageUrl || 'https://placehold.co/100'"
            [alt]="item.name"
          />
          <div class="image-overlay"></div>
        </div>

        <div class="laundry-details">
          <div class="laundry-info">
            <h3 class="laundry-name">{{ item.name }}</h3>
            <div class="laundry-meta">
              <div class="rating">
                <ion-icon name="star" class="star-icon"></ion-icon>
                <span class="rating-text">4.5</span>
              </div>
              <div class="category" *ngIf="item.category">
                <ion-icon name="pricetag" class="category-icon"></ion-icon>
                <span>{{ item.category }}</span>
              </div>
            </div>
            <p class="laundry-description">
              Best in Class services with premium quality
            </p>
          </div>

          <div class="laundry-actions">
            <ion-icon name="arrow-forward" class="arrow-icon"></ion-icon>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Default State -->
  <div
    class="default-state"
    *ngIf="(allLaundries | filterBy: laundryFilter).length === 0"
  >
    <div class="default-content">
      <ion-icon name="search-outline" class="default-icon"></ion-icon>
      <h3 class="default-title">Search for Laundries</h3>
      <p class="default-subtitle">
        Find the perfect laundry service for your needs
      </p>

      <!-- Popular Search Suggestions -->
      <div class="search-suggestions">
        <h4 class="suggestions-title">Try searching for:</h4>
        <div class="suggestion-tags">
          <ion-chip class="suggestion-tag">
            <ion-icon name="trending-up" slot="start"></ion-icon>
            <ion-label>Washing</ion-label>
          </ion-chip>
          <ion-chip class="suggestion-tag">
            <ion-icon name="trending-up" slot="start"></ion-icon>
            <ion-label>Dry Clean</ion-label>
          </ion-chip>
          <ion-chip class="suggestion-tag">
            <ion-icon name="trending-up" slot="start"></ion-icon>
            <ion-label>Ironing</ion-label>
          </ion-chip>
        </div>
      </div>
    </div>
  </div>
</ion-content>
